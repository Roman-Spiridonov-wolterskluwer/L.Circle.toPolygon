L.Circle.SECTIONS_COUNT=64;L.Circle.toPolygon=function(o,t,i){i=i||o._map;if(!i){throw Error("Can't figure out points without adding the feature to the map")}var n=[],r=i.options.crs,e=Math.PI*2,a=0,c,p,l,u,s;if(r===L.CRS.EPSG3857){u=i.latLngToLayerPoint.bind(i);s=i.layerPointToLatLng.bind(i);p=o._radius}else{u=r.projection.project.bind(r.projection);s=r.projection.unproject.bind(r.projection);p=o._mRadius}c=u(o._latlng);t=t||L.Circle.SECTIONS_COUNT;for(var C=0;C<t;C++){a+=e/t;l=new L.Point(c.x+p*Math.cos(a),c.y+p*Math.sin(a));n.push(s(l))}return n};L.Circle.prototype.toPolygon=function(o,t){return L.Circle.toPolygon(this,o,t||this._map)};